
.. image:: https://api.travis-ci.org/repositories/acutesoftware/worldbuild.svg
    :target: https://travis-ci.org/acutesoftware/worldbuild
    :alt: Build Status

=========================================
Dungeon Generator
=========================================



Quick Start
=========================================


Random Grid Generation
============================
Create a random grid as follows

.. code:: python

    pip install worldbuild
    build_random_grid.py


.. image:: ../../doc/Screenshot_test_world_txt.png

You can convert this grid to a Tiled TMX file for manual editing

.. code:: python

    convert_grid_to_tiled_map.py

.. image:: ../../doc/Tiled_example_test_world.png




Dungeon Map Generator
============================
Create a rogue like dungeon grid by running code below to produce a random map

.. code:: python

    import worldbuild.dungeon_generator as dg

    grid = dg.create_dungeon(grid_y=30, grid_x=80, NUM_ROOMS=16, ROOM_SIZE = 3, NUM_HORIZ = 10)
    print(dg.grid_as_str(grid))

    # optional - make a path through the grid
    print(dg.path_find(grid))

    # optional - export as TMX file
    dg.convert_grid_to_TileEditor_map('dungeon.tmx', 'samples/ascii_runeset.tsx')




    /--------------------------------------------------------------------------------------------------------------------------------\
    |                                                                                                                                |
    |                ╔═══════╗                             ╔════════╗╔═════════════════╗ ╔═══════╗╔═══════╗                          |
    |  ╔════╗══════╗ ║.......║                             ║........║║.................║ ║.......║║.......║ ╔══════╗                 |
    |  ║....║......║ ║.......║                             ║........║║.................║ ║.......║║.......║ ║......║                 |
    |  ║...........║ ║.......║               ╔══════╗      ║........╚╝.................╚═╝.......║║.......#═#......║                 |
    |  ║..!.+......║ ║....r..║               ║......║      ║..............p...L..............L...║║.......-.+......║                 |
    |  ║...........║ ║.......║               ║......║  ╔═══╝....L..................c.............║╝.......#═#...p..║                 |
    |  ║...........║ ║.......║               ║......##═╝.........................................##.......#═#......╚═════╗           |
    |  ╚═╗...L....╔╝ ╚═══════╝               ║......-+.......................-.+.........F.......-+.......-.+............║           |
    |    ║........║                        ╔═╝...F..##...............p..╔════#═#.............╔═══##.......#═#══╗.........║           |
    |    ║........║                        ║........║║....................║     ════╗.................L..╔═════╝.........║           |
    |    ║..═.p...║                        ║........║║......r.............║          ╗...................................║           |
    |    ╚╗...r..╔╝           ╔════════╗   ║........║║....................║          ║...............................p...║           |
    |    ║........║           ║........║   ║........║║................c...║          ║..........r........................║           |
    |    ╚╗...═..╔╝═╗         ║........║  ╔╝....p...║╝....................║          ║......................F............║           |
    |     ║.........║         ║........╚══╝.........║╚═════╗..............║          ║.................p.................║           |
    |     ╚╗........╚═╗═╗     ║.....................║      ║....p.........║          ║...................................║           |
    |      ║..........║.║ ╔═#═╝....................╔╝═══╗  ║..............║          ║...................................║           |
    |      ║.....F..╔═╝═╝ ║.+.................c.........║  ║........╔═════╝          ╚═══════╗..................p........║           |
    |      ║..........║.║ ║.#..........r................╚══╝........╚═════╗                  ║...c...................p...║           |
    |      ║..........║.╚═║.║................................╔═══╗........╚═════╗            ║...........................║           |
    |      ║.........L....║....c.............................║   ║..............║            ║............c..............║           |
    |      ║..............║..╔══╗..........╔═══╗...p.........║   ║..............║            ╚═══════╗...................║           |
    |      ║..........═.╔═╝.═..........╔═══════#.............║   ║..............#════════════════════#..............╔════╝═══╗       |
    |      ╚════╗.........c..-.................+.............║   ║....r.....r...-....................+..............║║.......║       |
    |         ║...........F..#═════════════════#.............║   ║..............#══════╗........╔════#........p.....║║.......║       |
    |         ║...........#..║                  ════╗....r...#═══#..............╚═#═══#╝...........#═╝...........╔══╝║.......║       |
    |         ║...........+..║                      ║........-...+........+.......-...+............-......+......║   ║....r..║       |
    |         ║...c.......#══╝                      ╚╗......╔#═══#════════#..........╔#...............╔═══#══════╝   ║.......╚══╗    |
    |         ║...........║    ╔═══╗════╗            ║......╚═══╗    ║...............║║...............║              ║..........║    |
    |         ║...........║    ║...║....╚═╗═╗        ║..........║    ║...............║║....p...F......║              ║..........║    |
    |         ╚═══════════╝════╝...║......║.║        ║..........║    ║...........r...║║...............║              ╚═══╗......║    |
    |     ╔═══════#══════#.........║......║.╚═══════#╝..........║    ║...............║╝...............#════════════════#═╝......╚══╗ |
    |     ║.......-......+.........║....-...........+.......F...║════╝...............║╚═══╗...........-................+...........║ |
    |     ║.......#══════#................═.╔══════╗............║....................║    ║...........#════════════════#...........║ |
    |     ║.......║     ╔╝...L...........L║.║      ║............║........F..........╔╝    ║.......╔═══                 ║...........║ |
    |     ║.......║═════╝.................║.║      ║........╔═══╝................c..║     ║.......║                    ║...........║ |
    |     ║....p..#.......................#.╚════╗═╝....F...#═══#....p..............#════#........║                    ║...........║ |
    |     ║.......+................p..-...+......║..........-...+...................-....+.....F..║                    ║........?..║ |
    |     ║.......#....................╔══#......║..........#═══#..................╔#════#........║                    ║...........║ |
    |     ║.......║.........r..........║  ║......║.........╔     ════╗.............║..............║                    ║...........║ |
    |     ╚═══════╝....r........c......║  ║..c..╔╝╗.....╔══          ║...r...╔═════╝..............║                    ║...........║ |
    |             ║....................║  ╚══╝...c...F..║            ║.......║     ║............╔═╝                    ║...........║ |
    |             ║.......╔═╗......L...║  ║......║......║            ║.......║     ║............#══════════════════════#...........║ |
    |             ╚═══════  ║..........║  ║......║......║            ╚═══════╝     ║....L.......-......................+...........║ |
    |                       ╚═╗........║  ╚══════╝══════╝                          ║........╔═══#══════════════════════#...........║ |
    |                          ════════╝                                           ╚════════                            ═══════════╝ |
    |                                                                                                                                |
    \--------------------------------------------------------------------------------------------------------------------------------/

It also uses the pathfinding package to make a path through the map

.. code:: python

    Finding path..... Seed was: 5529128865878819600
    pathfind.py start, end =  [5, 5] [123, 38]
    operations: 3459 path length: 168
    /--------------------------------------------------------------------------------------------------------------------------------\
    |                                                                                                                                |
    |                ╔═══════╗                             ╔════════╗╔═════════════════╗ ╔═══════╗╔═══════╗                          |
    |  ╔════╗══════╗ ║.......║                             ║........║║.................║ ║.......║║.......║ ╔══════╗                 |
    |  ║....║......║ ║.......║                             ║........║║.................║ ║.......║║.......║ ║......║                 |
    |  ║...........║ ║.......║               ╔══════╗      ║........╚╝.................╚═╝.......║║.......#═#......║                 |
    |  ║..xx+......║ ║....r..║               ║......║      ║..............p...L..............L...║║.......-.+......║                 |
    |  ║...xx......║ ║.......║               ║......║  ╔═══╝....L..................c.............║╝.......#═#...p..║                 |
    |  ║....x......║ ║.......║               ║......##═╝.........................................##.......#═#......╚═════╗           |
    |  ╚═╗..xL....╔╝ ╚═══════╝               ║......-+.......................-.+.........F.......-+.......-.+............║           |
    |    ║..xx....║                        ╔═╝...F..##...............p..╔════#═#.............╔═══##.......#═#══╗.........║           |
    |    ║...x....║                        ║........║║....................║     ════╗.................L..╔═════╝.........║           |
    |    ║..═xp...║                        ║........║║......r.............║          ╗...................................║           |
    |    ╚╗..xr..╔╝           ╔════════╗   ║........║║....................║          ║...............................p...║           |
    |    ║...x....║           ║........║   ║........║║................c...║          ║..........r........................║           |
    |    ╚╗..x═..╔╝═╗         ║........║  ╔╝....p...║╝....................║          ║......................F............║           |
    |     ║..x......║         ║........╚══╝.........║╚═════╗..............║          ║.................p.................║           |
    |     ╚╗.x......╚═╗═╗     ║.....................║      ║....p.........║          ║...................................║           |
    |      ║.x........║.║ ╔═#═╝....................╔╝═══╗  ║..............║          ║...................................║           |
    |      ║.x...F..╔═╝═╝ ║.+.................c.........║  ║........╔═════╝          ╚═══════╗..................p........║           |
    |      ║.xx.......║.║ ║.#..........r................╚══╝xxxxxxxx╚═════╗                  ║...c...................p...║           |
    |      ║..xxxx....║.╚═║.║...............................x╔═══╗.xxxxxxx╚═════╗            ║...........................║           |
    |      ║.....x...L....║....c..........xxxxxxxxxxxxxxxxxxx║   ║.......xxxx...║            ║............c..............║           |
    |      ║.....xxxx.....║..╔══╗.....xxxxx╔═══╗...p.........║   ║..........x...║            ╚═══════╗...................║           |
    |      ║........x.═.╔═╝.═.........x╔═══════#.............║   ║..........xxxx#════════════════════#..............╔════╝═══╗       |
    |      ╚════╗...xx....c.xxxxxxxxxxx........+.............║   ║....r.....r..xxxxxxxxxx............+..............║║.......║       |
    |         ║......x....F.x#═════════════════#.............║   ║..............#══════╗x.......╔════#........p.....║║.......║       |
    |         ║......x....#.x║                  ════╗....r...#═══#..............╚═#═══#╝x..........#═╝...........╔══╝║.......║       |
    |         ║......xxxxxxxx║                      ║........-...+........+.......-...+.x..........-......+......║   ║....r..║       |
    |         ║...c.......#══╝                      ╚╗......╔#═══#════════#..........╔#.xxxxxxxxxx....╔═══#══════╝   ║.......╚══╗    |
    |         ║...........║    ╔═══╗════╗            ║......╚═══╗    ║...............║║..........x....║              ║..........║    |
    |         ║...........║    ║...║....╚═╗═╗        ║..........║    ║...............║║....p...F.xx...║              ║..........║    |
    |         ╚═══════════╝════╝...║......║.║        ║..........║    ║...........r...║║...........xxx.║              ╚═══╗......║    |
    |     ╔═══════#══════#.........║......║.╚═══════#╝..........║    ║...............║╝.............xx#════════════════#═╝......╚══╗ |
    |     ║.......-......+.........║....-...........+.......F...║════╝...............║╚═══╗..........xxxxxxxxxxxxxxxxxxxx..........║ |
    |     ║.......#══════#................═.╔══════╗............║....................║    ║...........#════════════════#x..........║ |
    |     ║.......║     ╔╝...L...........L║.║      ║............║........F..........╔╝    ║.......╔═══                 ║x..........║ |
    |     ║.......║═════╝.................║.║      ║........╔═══╝................c..║     ║.......║                    ║x..........║ |
    |     ║....p..#.......................#.╚════╗═╝....F...#═══#....p..............#════#........║                    ║xxxxxxxxx..║ |
    |     ║.......+................p..-...+......║..........-...+...................-....+.....F..║                    ║........x..║ |
    |     ║.......#....................╔══#......║..........#═══#..................╔#════#........║                    ║...........║ |
    |     ║.......║.........r..........║  ║......║.........╔     ════╗.............║..............║                    ║...........║ |
    |     ╚═══════╝....r........c......║  ║..c..╔╝╗.....╔══          ║...r...╔═════╝..............║                    ║...........║ |
    |             ║....................║  ╚══╝...c...F..║            ║.......║     ║............╔═╝                    ║...........║ |
    |             ║.......╔═╗......L...║  ║......║......║            ║.......║     ║............#══════════════════════#...........║ |
    |             ╚═══════  ║..........║  ║......║......║            ╚═══════╝     ║....L.......-......................+...........║ |
    |                       ╚═╗........║  ╚══════╝══════╝                          ║........╔═══#══════════════════════#...........║ |
    |                          ════════╝                                           ╚════════                            ═══════════╝ |
    |                                                                                                                                |
    \--------------------------------------------------------------------------------------------------------------------------------/

Optionally, you can uncomment the line to save it as a TMX file for use in Tiled.
Doing this will allow you to use the above grid with a tileset to get better graphics.

.. image:: ../samples/dungeon_resized_in_Tiled.png

Coming soon - better example of tileset graphics
